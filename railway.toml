# Railway Configuration
# This configures the default service when deploying from root
# For multi-service deployment, add each service in Railway dashboard
# and set the Dockerfile Path to the appropriate file

[build]
builder = "dockerfile"
# Default to monolith (backend + frontend combined)
dockerfilePath = "Dockerfile.monolith"

[deploy]
healthcheckPath = "/health"
healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Environment variables needed (set these in Railway dashboard)
# DGRAPH_ADDRESS=dgraph.railway.internal:9080
# NATS_URL=nats://nats.railway.internal:4222
# QDRANT_URL=http://qdrant.railway.internal:6333
# REDIS_URL=${{Redis.REDIS_URL}}
# JWT_SECRET=your-32-char-secret
